---
- name: rails | gem list
  command: ~/.rbenv/shims/gem list
  register: reg_gem_list
  changed_when: no

## needs testing, not sure if this works
- name: rails | install:bundler,rails,foreman
  command: ~/.rbenv/shims/gem install {{ item }}
  register: reg_gem
  changed_when: reg_gem.stdout_lines.0.split(' ')[-1].split('-')[-1] not in reg_gem_list.stdout
  loop: [bundler, rails, foreman]
